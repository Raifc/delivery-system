<!DOCTYPE html>
<html>
<head>
  <title>DeliverySystem</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "application" %>
</head>

<body>
<h1 class="text-center display-3">Delivery System </h1>
<p class="text-center" style="font-size: x-small;"> Don't believe the hype. Just code. </p>

<br>
<br>
<% if admin_signed_in? || user_signed_in? %>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

    <div class="container-fluid">

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <% if admin_signed_in? %>
        <div class="collapse navbar-collapse px-5" id="navbarScroll">
          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
            <li class="nav-item">
              <%= link_to 'Início', root_path, :class => "nav-link active" %>
            </li>
            <li class="nav-item">
              <%= link_to 'Transportadoras', companies_path, :class => "nav-link active" %>
            </li>
          </ul>
        </div>

      <% elsif user_signed_in? %>
        <div class="collapse navbar-collapse" id="navbarScroll">
          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
            <li class="nav-item">
              <%= link_to 'Início', root_path, :class => "nav-link active" %>
            </li>
            <li class="nav-item">
              <%= link_to 'Minha transportadora', company_path(current_user.company_id), :class => "nav-link active" %>
            </li>
          </ul>
        </div>
      <% end %>
    </div>
  </nav>

  <% if admin_signed_in? %>

    <div class="d-flex justify-content-end px-5">
      <strong>Admin</strong>: <%= current_admin.email %>
    </div>

    <div class="d-flex justify-content-end px-5">
      <%= button_to 'Sair', destroy_admin_session_path, method: :delete, :class => "btn btn-danger navbar-btn" %>  </div>

  <% elsif user_signed_in? %>
    <div class="d-flex justify-content-end ">
      <%= current_user.email %>
    </div>

    <div class="d-flex justify-content-end ">
      <%= button_to 'Sair', destroy_user_session_path, method: :delete, :class => "btn btn-danger navbar-btn" %>
    </div>

  <% end %>

<% end %>

<br>
<br>

<div>
  <%= alert %>
  <%= notice %>
</div>

<%= yield %>

<br>
<br>
</body>
</html>